(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),u=n.n(r),c=n(5),i=n.n(c),a=(n(11),n(1)),s=function(e){var t=Object(r.useState)(0),n=Object(a.a)(t,2),u=n[0],c=n[1];return Object(r.useEffect)((function(){var t=setInterval((function(){return c((function(e){return e+1}))}),e);return function(){return clearInterval(t)}}),[e]),u},o=function(){var e=Object(r.useState)(0)[1];return Object(r.useCallback)((function(){return e((function(e){return e+1}))}),[e])},f=(n(12),n(13),function(){return Array.from({length:24},(function(){return Array.from({length:10},(function(){return"empty"}))}))}),l=n(2),h=n(3),v=function(e){return JSON.parse(JSON.stringify(e))},p=function(e,t){var n=Object(a.a)(e,2),r=n[0],u=(n[1],Object(a.a)(t,2)),c=u[0];u[1];return c-r},m=function(e,t){var n=Object(a.a)(e,2),r=(n[0],n[1]),u=Object(a.a)(t,2);u[0];return u[1]-r},b=function(e,t){var n=Object(a.a)(e,2),r=(n[0],n[1]),u=Object(a.a)(t,2);u[0];return r-u[1]},O=function(){function e(t,n){Object(l.a)(this,e),this.type="",this.pixels=[],this.pixels=v(t).sort(p),this.type=n}return Object(h.a)(e,[{key:"getPixels",value:function(){return this.pixels}},{key:"getPixelsAtBottom",value:function(){var e=v(this.pixels).sort(p)[0][0];return this.pixels.filter((function(t){var n=Object(a.a)(t,2),r=n[0];n[1];return r===e}))}},{key:"getPixelsAtRight",value:function(){var e=v(this.pixels).sort(m)[0][1];return this.pixels.filter((function(t){var n=Object(a.a)(t,2);n[0];return n[1]===e}))}},{key:"getPixelsAtLeft",value:function(){var e=v(this.pixels).sort(b)[0][1];return this.pixels.filter((function(t){var n=Object(a.a)(t,2);n[0];return n[1]===e}))}},{key:"canMoveX",value:function(e){var t=f();return e.forEach((function(e){return e.getPixels().forEach((function(n){var r=Object(a.a)(n,2),u=r[0],c=r[1];return t[u][c]=e.type}))})),this.getPixelsAtBottom().every((function(e){var n=Object(a.a)(e,2),r=n[0],u=n[1];return 23!==r&&"empty"===t[r+1][u]}))}},{key:"canMoveLeft",value:function(e){var t=f();return e.forEach((function(e){return e.getPixels().forEach((function(n){var r=Object(a.a)(n,2),u=r[0],c=r[1];return t[u][c]=e.type}))})),this.getPixelsAtLeft().every((function(e){var n=Object(a.a)(e,2),r=n[0],u=n[1];return 0!==u&&"empty"===t[r][u-1]}))}},{key:"canMoveRight",value:function(e){var t=f();return e.forEach((function(e){return e.getPixels().forEach((function(n){var r=Object(a.a)(n,2),u=r[0],c=r[1];return t[u][c]=e.type}))})),this.getPixelsAtRight().every((function(e){var n=Object(a.a)(e,2),r=n[0],u=n[1];return 10!==u&&"empty"===t[r][u+1]}))}},{key:"moveX",value:function(e){this.canMoveX(e)&&(this.pixels=this.pixels.map((function(e){var t=Object(a.a)(e,2);return[t[0]+1,t[1]]})))}},{key:"moveRight",value:function(e){this.canMoveRight(e)&&(this.pixels=this.pixels.map((function(e){var t=Object(a.a)(e,2);return[t[0],t[1]+1]})))}},{key:"moveLeft",value:function(e){this.canMoveLeft(e)&&(this.pixels=this.pixels.map((function(e){var t=Object(a.a)(e,2);return[t[0],t[1]-1]})))}},{key:"deletePixelHeight",value:function(e){this.pixels=this.pixels.filter((function(t){var n=Object(a.a)(t,2),r=n[0];n[1];return r!==e}))}}]),e}(),y=function(){function e(t,n){Object(l.a)(this,e),this.shapes=[],this.current=0,this.type="",this.shapes=t,this.type=n}return Object(h.a)(e,[{key:"deletePixelHeight",value:function(e){return this.shapes[this.current].deletePixelHeight(e)}},{key:"getShape",value:function(){return this.shapes[this.current]}},{key:"getPixels",value:function(){return this.shapes[this.current].getPixels()}},{key:"canMoveX",value:function(e){var t=this,n=e.filter((function(e){return e!==t}));return this.shapes[this.current].canMoveX(n)}},{key:"moveX",value:function(e){var t=this,n=e.filter((function(e){return e!==t}));return this.shapes.forEach((function(e){return e.moveX(n)}))}},{key:"moveRight",value:function(e){var t=this,n=e.filter((function(e){return e!==t}));return this.shapes.forEach((function(e){return e.moveRight(n)}))}},{key:"moveLeft",value:function(e){var t=this,n=e.filter((function(e){return e!==t}));return this.shapes.forEach((function(e){return e.moveLeft(n)}))}},{key:"rotate",value:function(){this.current=(this.current+1)%this.shapes.length}}]),e}(),j=function(){var e=[new y([new O([[0,6],[0,5],[0,4],[0,3]],"l"),new O([[3,4],[2,4],[1,4],[0,4]],"l")],"l"),new y([new O([[2,5],[2,4],[1,4],[0,4]],"L"),new O([[1,3],[0,3],[0,4],[0,5]],"L"),new O([[2,5],[1,5],[0,5],[0,4]],"L"),new O([[1,3],[1,4],[1,5],[0,5]],"L")],"L"),new y([new O([[1,5],[1,4],[0,4],[0,5]],"C")],"C"),new y([new O([[1,4],[1,5],[0,3],[0,4]],"Z"),new O([[2,5],[1,5],[1,4],[0,4]],"Z")],"Z"),new y([new O([[1,3],[1,4],[1,5],[0,4]],"T"),new O([[2,4],[1,4],[0,4],[1,5]],"T"),new O([[1,4],[0,4],[0,3],[0,5]],"T"),new O([[2,4],[1,3],[1,4],[0,4]],"T")],"T"),new y([new O([[2,4],[2,5],[1,5],[0,5]],"Li"),new O([[1,5],[1,4],[1,3],[0,3]],"Li"),new O([[2,4],[1,4],[0,4],[0,5]],"Li"),new O([[1,5],[0,5],[0,4],[0,3]],"Li")],"Li"),new y([new O([[1,3],[1,4],[0,4],[0,5]],"S"),new O([[2,5],[1,5],[1,4],[0,4]],"S")],"S")];return e[Math.floor(Math.random()*e.length)]},x=function(){var e=Object(r.useState)(300),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(0),l=Object(a.a)(i,2),h=l[0],v=l[1],p=Object(r.useState)(0),m=Object(a.a)(p,2),b=m[0],O=m[1],y=s(n),x=o(),g=Object(r.useRef)(j()),E=Object(r.useRef)([g.current]),w=Object(r.useState)(!0),k=Object(a.a)(w,2),L=k[0],P=k[1];Object(r.useEffect)((function(){v(parseInt(b/50))}),[b]),Object(r.useEffect)((function(){if(E.current.forEach((function(e){return e.moveX(E.current)})),!g.current.canMoveX(E.current))if(c(300-50*h),g.current.getPixels().some((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return 0===n})))P(!1);else{var e=f();E.current.forEach((function(t){return t.getPixels().forEach((function(n){var r=Object(a.a)(n,2),u=r[0],c=r[1];return e[u][c]=t.type}))}));for(var t=function(t){e[t].every((function(e){return"empty"!==e}))&&(O((function(e){return e+10})),E.current.forEach((function(e){return e.deletePixelHeight(t)}))),E.current=E.current.filter((function(e){return 0!==e.getPixels().length}))},n=0;n<e.length;++n)t(n);g.current=j(),E.current.push(g.current)}}),[y]),Object(r.useEffect)((function(){document.addEventListener("keypress",(function(e){var t=e.key;"a"===t&&g.current.moveLeft(E.current),"d"===t&&g.current.moveRight(E.current),"w"===t&&g.current.rotate(),"s"===t&&c(25),"a"!==t&&"d"!==t&&"w"!==t||x()}))}),[x]);var d=f();return E.current.forEach((function(e){return e.getPixels().forEach((function(t){var n=Object(a.a)(t,2),r=n[0],u=n[1];return d[r][u]=e.type}))})),L?u.a.createElement("section",{className:"App"},u.a.createElement("section",{className:"board"},d.map((function(e,t){return u.a.createElement("div",{className:"row",key:t},e.map((function(e,n){return u.a.createElement("div",{key:"".concat(e," ").concat(t," ").concat(n),className:"pixel "+e},"empty"!==e?u.a.createElement("div",{className:"minipixel"}):null)})))}))),u.a.createElement("section",{className:"stats"},u.a.createElement("h3",null,"Timer = ",y),u.a.createElement("h3",null,"Score = ",b),u.a.createElement("h3",null,"Level = ",h),u.a.createElement("h3",null,"Speed = ",n,"ms"))):u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,"Game Over"))};i.a.render(u.a.createElement(x,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.3fecacfd.chunk.js.map